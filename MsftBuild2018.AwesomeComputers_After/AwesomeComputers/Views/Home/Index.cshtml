<h3>Welcome to Awesome Computers!</h3>

<div id="alert-error" class="alert alert-dismissable alert-danger" style="display: none;">
    <p id="error-content"></p>
</div>

<a id="jwtLink" href="#" class="btn btn-lg btn-warning btn-block" style="display: none;">View Token Contents</a>
<br />
<a href="https://aadb2ctraining.azurewebsites.net/" class="btn btn-lg btn-success">Back To B2C Training</a>

<script>
    function getUrlVars() {
        var variables = [], hash;

        var hashes = window.location.href.slice(window.location.href.indexOf('#') + 1).split('&');

        for (var i = 0; i < hashes.length; i++) {
            hash = hashes[i].split('=');
            variables.push(hash[0]);
            variables[hash[0]] = hash[1];
        }

        return variables;
    }

    (function () {
        var urlVars = getUrlVars();

        if (urlVars.error_description) {

            var errorContent = document.getElementById('error-content');
            var errorDescription = decodeURIComponent(urlVars.error_description.replace(/\+/g, ' '));
            errorContent.innerHTML = errorDescription;

            var alertErrorDiv = document.getElementById('alert-error');
            alertErrorDiv.style.display = 'block';
        }

        if (urlVars.id_token && urlVars.id_token !== "") {
            var jwtAnchor = document.getElementById('jwtLink');
            jwtAnchor.href = "https://jwt.ms/#id_token=" + urlVars.id_token;
            jwtAnchor.style.display = 'block';
        }
    })();
</script>